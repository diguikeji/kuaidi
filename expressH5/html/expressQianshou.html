<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>快递签收</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../css/app.css">
		<link rel="stylesheet" href="../css/page.css">
		<link rel="stylesheet" href="../css/mui.min.css">
		<link rel="stylesheet" href="../css/secondPage.css">
		<style>
			body,.mui-content{background: #fff!important;}



		</style>
		
		
		
	</head>

	<body>


	<div class="header-bar header-search">

		<div class="header-left" onclick="mui.back();">
			<img src="../images/back.png"/>
		</div>

		<div class="header-title color">
			<img class="left-img" src="../images/secondPage/kuaidiSosuo_05.png">
			<input class="search-input" type="text" />
			<span class="right-img"><img  src="../images/secondPage/kuaidiSosuo_07.png"></span>

		</div>


	</div>

	<div class="mui-content has-header express-col express-search">

		<ul class="express-list">
			<li>
				<div class="clearfix top">
					<div class="left">
						<div class="name">张得发</div>
						<p>上海市黄浦区歌斐中心</p>
					</div>
					<img class="middle-img" src="../images/secondPage/express_22.jpg">
					<div class="right">
						<div class="name">张得发</div>
						<p>上海市黄浦区歌斐中心</p>
					</div>
				</div>

				<div class="middle">
					<span class="first"><span></span>未签收</span>
					<span class="second">广东深圳南山区建华路报社村30栋-01</span>
				</div>

				<div class="bottom">
					<img src="../images/secondPage/express_27.jpg"/>
					<span class="first">顺丰快递</span>
					<span>11001010123030306</span>
				</div>

			</li>
		</ul>

		<div class="qianshou-col clearfix">

			<div class="qianshou-btn">
				<button class="active" type="button">本人签收</button>
			</div>

			<div class="qianshou-btn">
				<button type="button">他人代签</button>
			</div>

		</div>

		<div class="pd">
		
		<div class="qianshou-qianzi" id="myCanvas">

		</div>
		
		</div>

	</div>

		<script src="../js/mui.min.js"></script>
	    <script src="../js/jquery-2.1.1.min.js"></script>
	    <script src="../js/app.js"></script>
		<script>

			$(".qianshou-col .qianshou-btn").click(function()
			{
				$(".qianshou-col .qianshou-btn button").removeClass("active");
				$(this).find("button").addClass("active");
			});


			mui.init({
				swipeBack: false,
				pullRefresh: {
					container: '#pullrefresh',
					down: {
						style:'circle',
						callback: pulldownRefresh
					},
					up: {
						contentrefresh: '正在加载...',
						callback: pullupRefresh
					}
				}
			});
			
			function pulldownRefresh()
			{
				
			}

			function pullupRefresh()
			{

			}
			
	  var canvasObj=new lineCanvas({
            el: document.getElementById("myCanvas")
        });

			var topHeight=$("#myCanvas").offset().top;


    function lineCanvas(obj) {
        this.linewidth = 5;
        this.color = "#000000";
        this.background = "#ffffff";
        for (var i in obj) {
            this[i] = obj[i];
        };
        this.canvas = document.createElement("canvas");
        this.el.appendChild(this.canvas);
        this.cxt = this.canvas.getContext("2d");
        this.canvas.width = this.el.clientWidth;
        this.canvas.height = this.el.clientHeight;
		this.cxt.fillStyle = 'rgba(0, 0, 0, 0)';
        this.cxt.fillRect(0, 0, this.canvas.width, this.canvas.width);
        this.cxt.strokeStyle = this.color;
        this.cxt.lineWidth = this.linewidth;
        this.cxt.lineCap = "round";
        //开始绘制
        this.canvas.addEventListener("touchstart", function(e) {
            this.cxt.beginPath();

            var pageX=e.changedTouches[0].pageX-0;
            var pageY=e.changedTouches[0].pageY-topHeight;
            this.cxt.moveTo(pageX, pageY);

        }.bind(this), false);


        //绘制中
        this.canvas.addEventListener("touchmove", function(e) {

            var pageX=e.changedTouches[0].pageX-0;
            var pageY=e.changedTouches[0].pageY-topHeight;

		/*	console.log("pageX"+pageX);
			console.log("pageY"+pageY);*/


            this.cxt.lineTo(pageX, pageY);
            this.cxt.stroke();
        }.bind(this), false);
        //结束绘制
        this.canvas.addEventListener("touchend", function() {
            this.cxt.closePath();

        }.bind(this), false);


    };

    //清除画布
    /*document.getElementById("clearCanvas").addEventListener("click", function() {
        canvasObj.cxt.clearRect(0, 0, canvasObj.canvas.width, canvasObj.canvas.height);
    }.bind(this), false);*/


    //保存图片，直接转base64
   /* document.getElementById("saveCanvas").addEventListener("click", function() {
        var imgBase64 = canvasObj.canvas.toDataURL();
        console.log(imgBase64);
    }.bind(this), false);*/
			

		</script>
	</body>

</html>